Êõ¥Êñ∞ b198427..3692633
Fast-forward
 build.log           | 37 ++++++++++++++-----------------------
 src/mind_camera.cpp |  2 ++
 2 files changed, 16 insertions(+), 23 deletions(-)
Êù•Ëá™ https://github.com/niuiic/face_recognition
 * branch            dev        -> FETCH_HEAD
   b198427..3692633  dev        -> origin/dev
sending incremental file list

sent 676 bytes  received 17 bytes  462.00 bytes/sec
total size is 181,234  speedup is 261.52
sending incremental file list

sent 2,915 bytes  received 33 bytes  5,896.00 bytes/sec
total size is 2,102,017  speedup is 713.03
sending incremental file list
src/
src/mind_camera.cpp
         12,133 100%    0.00kB/s    0:00:00           12,133 100%    0.00kB/s    0:00:00 (xfr#1, to-chk=3/21)

sent 4,791 bytes  received 39 bytes  9,660.00 bytes/sec
total size is 246,647  speedup is 51.07
sending incremental file list

sent 242 bytes  received 17 bytes  518.00 bytes/sec
total size is 40,083  speedup is 154.76
-- env INC_PATH: /home/niuiic/Ascend/ascend-toolkit/latest/arm64-linux
-- env LIB_PATH: /home/niuiic/Ascend/ascend-toolkit/latest/arm64-linux/acllib/lib64/stub
-- Configuring done
-- Generating done
-- Build files have been written to: /home/niuiic/Documents/Project/Cpp/face_recognition/build/intermediates/host
Scanning dependencies of target main
[  5%] Building CXX object CMakeFiles/main.dir/utils.cpp.o
[ 11%] Building CXX object CMakeFiles/main.dir/camera.cpp.o
[ 16%] Building CXX object CMakeFiles/main.dir/resource_load.cpp.o
[ 22%] Building CXX object CMakeFiles/main.dir/mind_camera.cpp.o
[ 27%] Building CXX object CMakeFiles/main.dir/model_process.cpp.o
In file included from /home/niuiic/ascend_ddk/arm/include/atlasutil/atlas_videocapture.h:22:0,
                 from /home/niuiic/Documents/Project/Cpp/face_recognition/src/mind_camera.cpp:55:
/home/niuiic/ascend_ddk/arm/include/atlasutil/atlas_utils.h:39:0: %WARNING%: "RGBU8_IMAGE_SIZE" redefined
 #define RGBU8_IMAGE_SIZE(width, height) ((width) * (height) * 3)
 
In file included from /home/niuiic/Documents/Project/Cpp/face_recognition/src/../inc/face_recognition_params.h:37:0,
                 from /home/niuiic/Documents/Project/Cpp/face_recognition/src/../inc/mind_camera.h:43,
                 from /home/niuiic/Documents/Project/Cpp/face_recognition/src/mind_camera.cpp:35:
/home/niuiic/Documents/Project/Cpp/face_recognition/src/../inc/utils.h:35:0: note: this is the location of the previous definition
 #define RGBU8_IMAGE_SIZE(width, height) ((width) * (height)*3)
 
In file included from /home/niuiic/ascend_ddk/arm/include/atlasutil/atlas_videocapture.h:22:0,
                 from /home/niuiic/Documents/Project/Cpp/face_recognition/src/mind_camera.cpp:55:
/home/niuiic/ascend_ddk/arm/include/atlasutil/atlas_utils.h:55:0: %WARNING%: "YUV420SP_SIZE" redefined
 #define YUV420SP_SIZE(width, height) ((width) * (height) * 3 / 2)
 
In file included from /home/niuiic/Documents/Project/Cpp/face_recognition/src/../inc/face_recognition_params.h:37:0,
                 from /home/niuiic/Documents/Project/Cpp/face_recognition/src/../inc/mind_camera.h:43,
                 from /home/niuiic/Documents/Project/Cpp/face_recognition/src/mind_camera.cpp:35:
/home/niuiic/Documents/Project/Cpp/face_recognition/src/../inc/utils.h:36:0: note: this is the location of the previous definition
 #define YUV420SP_SIZE(width, height) ((width) * (height)*3 / 2)
 
In file included from /home/niuiic/ascend_ddk/arm/include/atlasutil/atlas_videocapture.h:22:0,
                 from /home/niuiic/Documents/Project/Cpp/face_recognition/src/mind_camera.cpp:55:
/home/niuiic/ascend_ddk/arm/include/atlasutil/atlas_utils.h:69:0: %WARNING%: "SHARED_PRT_DVPP_BUF" redefined
 #define SHARED_PRT_DVPP_BUF(buf) (shared_ptr<uint8_t>((uint8_t *)(buf), [](uint8_t* p) { acldvppFree(p); }))
 
In file included from /home/niuiic/Documents/Project/Cpp/face_recognition/src/../inc/face_recognition_params.h:37:0,
                 from /home/niuiic/Documents/Project/Cpp/face_recognition/src/../inc/mind_camera.h:43,
                 from /home/niuiic/Documents/Project/Cpp/face_recognition/src/mind_camera.cpp:35:
/home/niuiic/Documents/Project/Cpp/face_recognition/src/../inc/utils.h:43:0: note: this is the location of the previous definition
 #define SHARED_PRT_DVPP_BUF(buf)                                               \
 
In file included from /home/niuiic/ascend_ddk/arm/include/atlasutil/atlas_videocapture.h:22:0,
                 from /home/niuiic/Documents/Project/Cpp/face_recognition/src/mind_camera.cpp:55:
/home/niuiic/ascend_ddk/arm/include/atlasutil/atlas_utils.h:83:0: %WARNING%: "SHARED_PRT_U8_BUF" redefined
 #define SHARED_PRT_U8_BUF(buf) (shared_ptr<uint8_t>((uint8_t *)(buf), [](uint8_t* p) { delete[](p); }))
 
In file included from /home/niuiic/Documents/Project/Cpp/face_recognition/src/../inc/face_recognition_params.h:37:0,
                 from /home/niuiic/Documents/Project/Cpp/face_recognition/src/../inc/mind_camera.h:43,
                 from /home/niuiic/Documents/Project/Cpp/face_recognition/src/mind_camera.cpp:35:
/home/niuiic/Documents/Project/Cpp/face_recognition/src/../inc/utils.h:45:0: note: this is the location of the previous definition
 #define SHARED_PRT_U8_BUF(buf)                                                 \
 
In file included from /home/niuiic/ascend_ddk/arm/include/atlasutil/atlas_videocapture.h:22:0,
                 from /home/niuiic/Documents/Project/Cpp/face_recognition/src/mind_camera.cpp:55:
/home/niuiic/ascend_ddk/arm/include/atlasutil/atlas_utils.h:91:0: %WARNING%: "ALIGN_UP" redefined
 #define ALIGN_UP(num, align) (((num) + (align) - 1) & ~((align) - 1))
 
In file included from /home/niuiic/Documents/Project/Cpp/face_recognition/src/../inc/face_recognition_params.h:37:0,
                 from /home/niuiic/Documents/Project/Cpp/face_recognition/src/../inc/mind_camera.h:43,
                 from /home/niuiic/Documents/Project/Cpp/face_recognition/src/mind_camera.cpp:35:
/home/niuiic/Documents/Project/Cpp/face_recognition/src/../inc/utils.h:38:0: note: this is the location of the previous definition
 #define ALIGN_UP(num, align) (((num) + (align)-1) & ~((align)-1))
 
[ 33%] Building CXX object CMakeFiles/main.dir/face_register.cpp.o
[ 38%] Building CXX object CMakeFiles/main.dir/face_detection.cpp.o
[ 44%] Building CXX object CMakeFiles/main.dir/face_feature_mask.cpp.o
[ 50%] Building CXX object CMakeFiles/main.dir/face_recognition.cpp.o
[ 55%] Building CXX object CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
[ 61%] Building CXX object CMakeFiles/main.dir/face_post_process.cpp.o
In file included from /home/niuiic/Documents/Project/Cpp/face_recognition/src/../inc/face_recognition_params.h:37:0,
                 from /home/niuiic/Documents/Project/Cpp/face_recognition/src/../inc/face_feature_mask.h:36,
                 from /home/niuiic/Documents/Project/Cpp/face_recognition/src/face_feature_mask.cpp:33:
/home/niuiic/Documents/Project/Cpp/face_recognition/src/face_feature_mask.cpp: In member function ‚ÄòResult FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData1>&)‚Äô:
/home/niuiic/Documents/Project/Cpp/face_recognition/src/../inc/utils.h:31:75: %WARNING%: format ‚Äò%x‚Äô expects argument of type ‚Äòunsigned int‚Äô, but argument 3 has type ‚Äòstd::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}‚Äô [-Wformat=]
 #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
                                                                           ^
/home/niuiic/Documents/Project/Cpp/face_recognition/src/face_feature_mask.cpp:180:9: note: in expansion of macro ‚ÄòINFO_LOG‚Äô
         INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
         ^
/home/niuiic/Documents/Project/Cpp/face_recognition/src/face_feature_mask.cpp: In member function ‚ÄòResult FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData1>&, std::vector<cv::Mat>&)‚Äô:
/home/niuiic/Documents/Project/Cpp/face_recognition/src/../inc/utils.h:31:75: %WARNING%: format ‚Äò%x‚Äô expects argument of type ‚Äòunsigned int‚Äô, but argument 3 has type ‚Äòstd::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}‚Äô [-Wformat=]
 #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
                                                                           ^
/home/niuiic/Documents/Project/Cpp/face_recognition/src/face_feature_mask.cpp:196:9: note: in expansion of macro ‚ÄòINFO_LOG‚Äô
         INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
         ^
In file included from /home/niuiic/Documents/Project/Cpp/face_recognition/src/../inc/face_recognition_params.h:37:0,
                 from /home/niuiic/Documents/Project/Cpp/face_recognition/src/../inc/face_recognition.h:39,
                 from /home/niuiic/Documents/Project/Cpp/face_recognition/src/face_recognition.cpp:34:
/home/niuiic/Documents/Project/Cpp/face_recognition/src/face_recognition.cpp: In member function ‚ÄòResult FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)‚Äô:
/home/niuiic/Documents/Project/Cpp/face_recognition/src/../inc/utils.h:31:75: %WARNING%: format ‚Äò%d‚Äô expects argument of type ‚Äòint‚Äô, but argument 4 has type ‚Äòstd::vector<AlignedFace>::size_type {aka long unsigned int}‚Äô [-Wformat=]
 #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
                                                                           ^
/home/niuiic/Documents/Project/Cpp/face_recognition/src/face_recognition.cpp:356:9: note: in expansion of macro ‚ÄòINFO_LOG‚Äô
         INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
         ^
/home/niuiic/Documents/Project/Cpp/face_recognition/src/../inc/utils.h:31:75: %WARNING%: format ‚Äò%d‚Äô expects a matching ‚Äòint‚Äô argument [-Wformat=]
 #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
                                                                           ^
/home/niuiic/Documents/Project/Cpp/face_recognition/src/face_recognition.cpp:356:9: note: in expansion of macro ‚ÄòINFO_LOG‚Äô
         INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
         ^
/home/niuiic/Documents/Project/Cpp/face_recognition/src/../inc/utils.h:31:75: %WARNING%: format ‚Äò%d‚Äô expects argument of type ‚Äòint‚Äô, but argument 3 has type ‚Äòlong unsigned int‚Äô [-Wformat=]
 #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
                                                                           ^
/home/niuiic/Documents/Project/Cpp/face_recognition/src/face_recognition.cpp:364:5: note: in expansion of macro ‚ÄòINFO_LOG‚Äô
     INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
     ^
/home/niuiic/Documents/Project/Cpp/face_recognition/src/face_recognition.cpp: In member function ‚ÄòResult FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)‚Äô:
/home/niuiic/Documents/Project/Cpp/face_recognition/src/../inc/utils.h:31:75: %WARNING%: format ‚Äò%d‚Äô expects argument of type ‚Äòint‚Äô, but argument 3 has type ‚Äòlong unsigned int‚Äô [-Wformat=]
 #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
                                                                           ^
/home/niuiic/Documents/Project/Cpp/face_recognition/src/face_recognition.cpp:423:2: note: in expansion of macro ‚ÄòINFO_LOG‚Äô
  INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
  ^
[ 66%] Building CXX object CMakeFiles/main.dir/dvpp_process.cpp.o
/home/niuiic/Documents/Project/Cpp/face_recognition/src/face_recognition.cpp: In member function ‚ÄòResult FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)‚Äô:
/home/niuiic/Documents/Project/Cpp/face_recognition/src/../inc/utils.h:31:75: %WARNING%: format ‚Äò%d‚Äô expects argument of type ‚Äòint‚Äô, but argument 3 has type ‚ÄòAppErrorCode‚Äô [-Wformat=]
 #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
                                                                           ^
/home/niuiic/Documents/Project/Cpp/face_recognition/src/face_recognition.cpp:465:9: note: in expansion of macro ‚ÄòINFO_LOG‚Äô
         INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
         ^
[ 72%] Building CXX object CMakeFiles/main.dir/dvpp_resize.cpp.o
[ 77%] Building CXX object CMakeFiles/main.dir/dvpp_jpege.cpp.o
[ 83%] Building CXX object CMakeFiles/main.dir/dvpp_jpegd.cpp.o
[ 88%] Building CXX object CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
[ 94%] Building CXX object CMakeFiles/main.dir/main.cpp.o
[100%] Linking CXX executable /home/niuiic/Documents/Project/Cpp/face_recognition/out/main
/usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: ÂΩìÊêúÁ¥¢Áî®‰∫é /usr/local/lib/libprotobuf.so Êó∂Ë∑≥Ëøá‰∏çÂÖºÂ[100%] Built target main
ÆπÁöÑ -lprotobuf
/usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: ÂΩìÊêúÁ¥¢Áî®‰∫é /usr/local/lib/libprotobuf.a Êó∂Ë∑≥Ëøá‰∏çÂÖºÂÆπÁöÑ -lprotobuf
/usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: ÂΩìÊêúÁ¥¢Áî®‰∫é /usr/local/lib/libprotobuf.so Êó∂Ë∑≥Ëøá‰∏çÂÖºÂÆπÁöÑ -lprotobuf
/usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: ÂΩìÊêúÁ¥¢Áî®‰∫é /usr/local/lib/libprotobuf.a Êó∂Ë∑≥Ëøá‰∏çÂÖºÂÆπÁöÑ -lprotobuf
